<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weatherly - Settings</title>
<link rel="stylesheet" href="global.css">
</head>
<body>

<!-- Top Navigation -->
<header class="top-nav">
  <div class="logo">☁️ Weatherly</div>
  <nav class="nav-links">
    <a href="saved.html">Dashboard</a>
    <a href="search.html">Search</a>
    <a href="pastWeather.html">Past Weather</a>
    <a href="weatherAlerts.html">Alerts</a>
    <a href="settings.html" class="active">Settings</a>
    <a href="help.html">Help</a>
  </nav>
  <div class="user-section">
    <button onclick="window.location.href='profile.html'" class="profile-btn">
      Demo User
    </button>
    <button onclick="window.location.href='login.html'" class="logout-btn">
      Logout
    </button>
  </div>
</header>

<main class="main-container">

  <header class="section-header">
    <h1>Settings</h1>
    <p>Customize your Weatherly experience</p>
  </header>

  <!-- ACCOUNT SETTINGS -->
  <div class="card settings-card">
    <h3>Account</h3>
    <div class="settings-group">
      <p><strong>Username:</strong> Demo User</p>
      <button class="settings-btn" onclick="window.location.href='profile.html'">
        Edit Profile
      </button>
    </div>
  </div>

  <!-- UNITS SETTINGS -->
  <div class="card settings-card">
    <h3>Units</h3>

    <div class="settings-tags">
      <label>
        <input type="radio" name="unit-temp" id="unit-f" checked>
        <span>Fahrenheit (°F)</span>
      </label>

      <label>
        <input type="radio" name="unit-temp" id="unit-c">
        <span>Celsius (°C)</span>
      </label>
    </div>
  </div>

  <!-- WEATHER NOTIFICATION SETTINGS -->
  <div class="card settings-card">
    <h3>Notifications</h3>

    <div class="settings-tags">

      <label>
        <input type="checkbox" id="set-severe">
        <span>Severe Weather</span>
      </label>

      <label>
        <input type="checkbox" id="set-temp">
        <span>Temperature Alerts</span>
      </label>

      <label>
        <input type="checkbox" id="set-precip">
        <span>Precipitation Alerts</span>
      </label>

      <label>
        <input type="checkbox" id="set-air">
        <span>Air Quality Alerts</span>
      </label>

    </div>
  </div>

  <!-- ACCESSIBILITY SETTINGS -->
  <div class="card settings-card">
    <h3>Accessibility</h3>

    <div class="settings-tags">
      <label>
        <input type="checkbox" id="a11y-high-contrast">
        <span>High Contrast Mode</span>
      </label>

      <label>
        <input type="checkbox" id="a11y-large-text">
        <span>Large Text</span>
      </label>

      <label>
        <input type="checkbox" id="a11y-animations">
        <span>Reduce Motion</span>
      </label>
    </div>
  </div>

</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Load stored settings
  const savedPrefs = JSON.parse(localStorage.getItem("userSettings")) || {};

  // Temperature unit
  if (savedPrefs.unit === "C") {
    document.getElementById("unit-c").checked = true;
  }

  // Toggles
  ["set-severe", "set-temp", "set-precip", "set-air",
   "a11y-high-contrast", "a11y-large-text", "a11y-animations"]
   .forEach(id => {
      if (savedPrefs[id]) {
        document.getElementById(id).checked = true;
      }
   });

  // Save on change
  document.querySelectorAll("input").forEach(input => {
    input.addEventListener("change", () => {
      const updated = {
        unit: document.getElementById("unit-c").checked ? "C" : "F",
      };

      document.querySelectorAll("input[type='checkbox']").forEach(box => {
        updated[box.id] = box.checked;
      });

      localStorage.setItem("userSettings", JSON.stringify(updated));
    });
  });
});
</script>

</body>
</html>
