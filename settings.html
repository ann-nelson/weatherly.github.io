<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weatherly Settings</title>
<link rel="stylesheet" href="global.css">
</head>
<body class="page">

  <!-- Top Navigation -->
<header class="top-nav">
  <div class="logo">‚òÅÔ∏è Weatherly</div>
  <nav class="nav-links">
    <a href="saved.html">Dashboard</a>
    <a href="search.html">Search</a>
    <a href="pastWeather.html">Past Weather</a>
    <a href="weatherAlerts.html">Alerts</a>
    <a href="settings.html" class="active" >Settings</a>
    <a href="help.html">Help</a>
  </nav>
  <div class="user-section">
    <span class="user-name">Demo User</span>
    <button onclick="window.location.href='login.html'" class="logout-btn">Logout</button>
  </div>
</header>

<div id="settings" class="container">

  <h2>Settings</h2>
  <p class="text-muted">Customize your weather app experience</p>

  <!-- GENERAL SETTINGS -->
  <div class="card">
    <div class="card-header flex items-center gap-2">
      <span>‚öôÔ∏è</span>
      <h3>General Preferences</h3>
    </div>

    <div class="card-body">
      <div class="form-group">
        <label>Temperature Unit</label>
        <select id="temperatureUnit">
          <option value="fahrenheit">Fahrenheit (¬∞F)</option>
          <option value="celsius">Celsius (¬∞C)</option>
          <option value="kelvin">Kelvin (K)</option>
        </select>
      </div>

      <div class="form-group">
        <label>Time Format</label>
        <select id="timeFormat">
          <option value="12h">12-hour</option>
          <option value="24h">24-hour</option>
        </select>
      </div>

      <div class="form-toggle flex justify-between items-center">
        <div>
          <label>Auto-refresh Weather Data</label>
          <p class="text-muted">Automatically update weather information</p>
        </div>
        <input type="checkbox" id="autoRefresh">
      </div>
    </div>
  </div>

  <!-- DISPLAY SETTINGS -->
  <div class="card">
    <div class="card-header flex items-center gap-2">
      <span>üëÅÔ∏è</span>
      <h3>Display Preferences</h3>
    </div>

    <div class="card-body">
      <div class="form-group">
        <label>Font Size</label>
        <select id="fontSize">
          <option value="small">Small</option>
          <option value="medium">Medium (Default)</option>
          <option value="large">Large</option>
          <option value="extra-large">Extra Large</option>
        </select>
      </div>

      <div class="form-group">
        <label>Contrast Mode</label>
        <select id="contrastMode">
          <option value="normal">Normal</option>
          <option value="high">High Contrast</option>
          <option value="low">Low Contrast</option>
        </select>
      </div>

      <p class="text-muted">Choose which weather metrics to display on the dashboard</p>

      <div class="form-toggle flex justify-between items-center">
        <label>Humidity</label>
        <input type="checkbox" id="showHumidity">
      </div>

      <div class="form-toggle flex justify-between items-center">
        <label>Wind Speed</label>
        <input type="checkbox" id="showWindSpeed">
      </div>

      <div class="form-toggle flex justify-between items-center">
        <label>Precipitation</label>
        <input type="checkbox" id="showPrecipitation">
      </div>
    </div>
  </div>

  <!-- NOTIFICATIONS -->
  <div class="card">
    <div class="card-header flex items-center gap-2">
      <span>üîî</span>
      <h3>Notifications</h3>
    </div>

    <div class="card-body">
      <div class="form-toggle flex justify-between items-center">
        <div>
          <label>Enable Notifications</label>
          <p class="text-muted">Receive weather updates and alerts</p>
        </div>
        <input type="checkbox" id="notifications">
      </div>

      <div id="notificationOptions" class="flex flex-col gap-2 hidden">
        <div class="form-toggle flex justify-between items-center">
          <div>
            <label>Severe Weather Alerts</label>
            <p class="text-muted">Get notified about severe weather conditions</p>
          </div>
          <input type="checkbox" id="severeWeatherAlerts">
        </div>

        <div class="form-toggle flex justify-between items-center">
          <div>
            <label>Daily Forecast Summary</label>
            <p class="text-muted">Receive daily weather forecast notifications</p>
          </div>
          <input type="checkbox" id="dailyForecast">
        </div>

        <div class="form-toggle flex justify-between items-center">
          <div>
            <label>Temperature Changes</label>
            <p class="text-muted">Get notified of significant temperature changes</p>
          </div>
          <input type="checkbox" id="temperatureChanges">
        </div>
      </div>
    </div>
  </div>

  <!-- BUTTONS -->
  <div class="flex justify-between gap-2">
    <button id="resetBtn" class="btn-outline">Reset to Defaults</button>
    <button id="saveBtn" class="btn-primary">üíæ Save Settings</button>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const el = id => document.getElementById(id);

  const fields = {
    temperatureUnit: "fahrenheit",
    timeFormat: "12h",
    fontSize: "medium",
    contrastMode: "normal",
    notifications: true,
    severeWeatherAlerts: true,
    dailyForecast: true,
    temperatureChanges: false,
    autoRefresh: true,
    showHumidity: true,
    showWindSpeed: true,
    showPrecipitation: true
  };

  // Load values from localStorage
  Object.keys(fields).forEach(key => {
    const stored = localStorage.getItem(key);
    if (stored !== null) {
      fields[key] = stored === "true" ? true : stored === "false" ? false : stored;
    }

    if (typeof fields[key] === "boolean") {
      el(key).checked = fields[key];
    } else {
      el(key).value = fields[key];
    }
  });

  // Show/hide notification options
  const showNotificationOptions = () => {
    el("notificationOptions").classList.toggle("hidden", !el("notifications").checked);
  };
  el("notifications").addEventListener("change", showNotificationOptions);
  showNotificationOptions();

  // Save button
  el("saveBtn").addEventListener("click", () => {
    Object.keys(fields).forEach(key => {
      const input = el(key);
      const val = input.type === "checkbox" ? input.checked : input.value;
      localStorage.setItem(key, val);
    });
    alert("Settings saved successfully!");
  });

  // Reset button
  el("resetBtn").addEventListener("click", () => {
    Object.keys(fields).forEach(key => {
      const def = fields[key];
      if (typeof def === "boolean") {
        el(key).checked = def;
        localStorage.setItem(key, def);
      } else {
        el(key).value = def;
        localStorage.setItem(key, def);
      }
    });
    showNotificationOptions();
    alert("Settings reset to defaults!");
  });
});
</script>

</body>
</html>
