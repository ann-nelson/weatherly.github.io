<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Weather Alerts</title>
  <link rel="stylesheet" href="alerts.css" />
</head>

<body class="page">

  <div id="alerts-container" class="container">

    <div class="header">
      <h2>Weather Alerts</h2>
      <p>Active warnings and advisories for your locations</p>
    </div>

    <div id="alert-list"></div>

    <!-- No alerts -->
    <div id="no-alerts" class="no-alerts hidden">
      <div class="no-alerts-icon">ℹ️</div>
      <h3>No Active Alerts</h3>
      <p>There are currently no weather alerts for your saved locations.</p>
    </div>

    <!-- Alert Settings -->
    <div class="alert-settings">
      <div class="settings-icon">ℹ️</div>
      <div>
        <h3>Alert Notifications</h3>
        <p>
          Stay informed about weather conditions in your saved locations. Configure notification preferences in Settings.
        </p>
        <div class="settings-tags">
          <span>Severe Weather</span>
          <span>Temperature Alerts</span>
          <span>Precipitation</span>
          <span>Air Quality</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Detailed Alert View -->
  <div id="detailed-alert" class="hidden"></div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const alertList = document.getElementById("alert-list");
      const noAlerts = document.getElementById("no-alerts");
      const detailedAlert = document.getElementById("detailed-alert");

      // Load alerts from localStorage or use sample data
      const alertsData = JSON.parse(localStorage.getItem("weatherAlerts")) || [
        {
          id: 1,
          title: "Severe Thunderstorm Warning",
          location: "New York, NY",
          severity: "High",
          description: "A severe thunderstorm is approaching with heavy rain and wind."
        },
        {
          id: 2,
          title: "Flash Flood Advisory",
          location: "Houston, TX",
          severity: "Medium",
          description: "Heavy rain may cause flash flooding in low-lying areas."
        }
      ];

      function renderAlerts() {
        alertList.innerHTML = "";

        if (!alertsData || alertsData.length === 0) {
          noAlerts.classList.remove("hidden");
          return;
        }

        noAlerts.classList.add("hidden");

        alertsData.forEach(alert => {
          const card = document.createElement("div");
          card.className = "alert-card";
          card.innerHTML = `
            <h4>${alert.title}</h4>
            <p><strong>Location:</strong> ${alert.location}</p>
            <p><strong>Severity:</strong> ${alert.severity}</p>
          `;
          card.addEventListener("click", () => showDetailedAlert(alert));
          alertList.appendChild(card);
        });
      }

      function showDetailedAlert(alert) {
        detailedAlert.classList.remove("hidden");
        detailedAlert.innerHTML = `
          <h3>${alert.title}</h3>
          <p><strong>Location:</strong> ${alert.location}</p>
          <p><strong>Severity:</strong> ${alert.severity}</p>
          <p>${alert.description}</p>
        `;
        detailedAlert.scrollIntoView({ behavior: "smooth" });
      }

      renderAlerts();
    });
  </script>

</body>
</html>
